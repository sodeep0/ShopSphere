# Database Schema for "Krisha Krafts" Handicraft Store (MongoDB)

Atlas free cluster. Mongoose schemas for Nepal handicrafts. One admin: Seed on setup (e.g., script inserts admin user). CSV import: Backend handles bulk `$upsert`.

## Collections

1. **Users**
   - Schema: `{ email: String, password: String (hashed), name: String, address: String, role: String ('customer'|'admin') }`.
   - One Admin: Pre-insert `{ email: 'admin@krishakrafts.com', role: 'admin' }`.
   - Example: Customer for Nepal delivery.

2. **Products**
   - Schema: `{ name: String, description: String, price: Number (NPR), image: String, stock: Number, category: String (e.g., 'Felt Crafts', 'Statues' from [feltkraft.com](https://feltkraft.com/)) }`.
   - Indexes: `{ category: 1, stock: 1 }`.
   - CSV Import: Bulk insert/update on name match.

3. **Orders**
   - Schema: `{ userId: ObjectId, items: [{productId, quantity}], total: Number (NPR), address: String (Nepal), status: String ('Pending COD'|'Delivered') }`.
   - Indexes: `{ userId: 1 }`.

Operations: Atomic stock `$inc: -quantity`. Seed Script: For admin and sample handicrafts (e.g., prayer wheel from [khusiinc.com](https://khusiinc.com/)).